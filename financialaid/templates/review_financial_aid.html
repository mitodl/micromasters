{% extends "base.html" %}
{% load i18n static %}

{% block title %}{% trans "Review Financial Aid" %}{% endblock %}

{% block content %}
  {% include "header.html" %}
  <div class="page-content">
    <div class="single-column" style="max-width: 1000px;">
      <p><h4>Financial Aid Submissions</h4></p>
      <div class="mdl-card">
        <div class="filter">
          <select class="form-control" onchange="location = this.options[this.selectedIndex].value;">
          {% for status, message in financial_aid_statuses %}
            <option value="{% url 'review_financial_aid' status=status %}"
                    {% if selected_status == status %}selected{% endif %}>
              {{ message }}
            </option>
          {% endfor %}
          </select>â€‹
        </div>
        <div class="pagination">
          <span class="step-links">
          {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-default"><</a>
          {% else %}
            <button class="btn btn-default disabled"><</button>
          {% endif %}
          {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" class="btn btn-default">></a>
          {% else %}
            <button class="btn btn-default disabled">></button>
          {% endif %}
          </span>
          <br>
          <span class="current">Page {{ page_obj.number }} of {{ paginator.num_pages }}</span>
        </div>
        
        <table class="table">
          <thead>
            <tr>
              <th></th>
              <th>Name/Location</th>
              <th>Adjusted Cost</th>
              <th>Income Verification</th>
              <th></th>
              <th></th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody>
          {% for financial_aid in financial_aid_objects %}
            <tr>
              <td>
                  <img src="https://s3.amazonaws.com/odl-micromasters-production/avatar_default.png"
                       style="height: 35px; border-radius: 18px; border: 1px solid rgba(180, 180, 180, 0.5)">
              </td>
              <td>
                <b>{{ financial_aid.user.profile.first_name }} {{ financial_aid.user.profile.last_name }}</b>
                <br>
                <small>{{ financial_aid.user.profile.city }}, {{ financial_aid.user.profile.country }}</small>
              </td>
              <td>
                <select class="form-control">
                  <option value="{{ financial_aid.tier_program.discount_amount }}">
                    ${{ financial_aid.adjusted_price }}
                  </option>
                </select>
              </td>
              <td><a href="#">View Documents (#)</a></td>
              <td>
                <button class="btn btn-default">
                  <span class="glyphicon glyphicon-ok" style="color: #0074e1"></span>
                </button>
              </td>
              <td>
                <button class="btn btn-default">
                  <span class="glyphicon glyphicon-remove" style="color: #0074e1"></span>
                </button>
              </td>
              <td>
                <button class="btn btn-default" onclick="alert('Send email to {{ financial_aid.user.email }}')">
                  <span class="glyphicon glyphicon-envelope" style="color: #0074e1"></span>
                </button>
              </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  {% include "footer.html" %}
{% endblock %}
